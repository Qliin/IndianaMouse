<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Event sheet 1</name>
    <events>
        <event-block sid="281284753699161">
            <conditions>
                <condition id="17" name="On tap object" sid="439453463240694" type="Touch">
                    <param id="0" name="Object">Trap</param>
                </condition>
                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="176590982384756" type="Trap">
                    <param id="0" name="Instance variable">activated</param>
                </condition>
            </conditions>
            <actions>
                <action id="-13" name="Set boolean" sid="234893741690323" type="Trap">
                    <param id="0" name="Instance variable">activated</param>
                    <param id="1" name="Value">1</param>
                </action>
                <action id="-3" name="Create object" sid="673322797525594" type="System">
                    <param id="0" name="Object to create">trapTime</param>
                    <param id="1" name="Layer">&quot;Traps&quot;</param>
                    <param id="2" name="X">Trap.X</param>
                    <param id="3" name="Y">Trap.Y</param>
                </action>
                <action id="0" name="Set text" sid="435787979485889" type="trapTime">
                    <param id="0" name="Text">&quot;&quot;&amp;Trap.timeToActivate</param>
                </action>
                <action id="0" name="Call function" sid="363368532462140" type="Function">
                    <param id="0" name="Name">&quot;&quot;&amp;Trap.Activate</param>
                    <param id="1" name="Parameter {n}">Trap.UID{###}trapTime.UID</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="828652048733199">
            <conditions>
                <condition id="0" name="On function" sid="388175720805685" type="Function">
                    <param id="0" name="Name">&quot;activateFireball&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="905267992690793">
                    <conditions>
                        <condition id="-14" name="Pick by unique ID" sid="452220556148931" type="fireball">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="145442353204310" type="trapTime">
                            <param id="0" name="Unique ID">Function.Param(1)</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="654583840382798">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="998884051782300" type="fireball">
                                    <param id="0" name="Instance variable">timeToActivate</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                                <condition id="-4" name="Trigger once while true" sid="238228104459422" type="System" />
                            </conditions>
                            <actions>
                                <action behavior="Platform" id="7" name="Simulate control" sid="947827520882934" type="fireball">
                                    <param id="0" name="Control">2</param>
                                </action>
                                <action id="-9" name="Destroy" sid="122465615671276" type="trapTime" />
                            </actions>
                        </event-block>
                        <event-block sid="173508349295972">
                            <conditions>
                                <condition id="-22" name="Else" sid="840978574672240" type="System" />
                            </conditions>
                            <actions>
                                <action id="-16" name="Wait" sid="489639036353099" type="System">
                                    <param id="0" name="Seconds">0.1</param>
                                </action>
                                <action id="-12" name="Subtract from" sid="429581134874806" type="fireball">
                                    <param id="0" name="Instance variable">timeToActivate</param>
                                    <param id="1" name="Value">0.1</param>
                                </action>
                                <action id="0" name="Set text" sid="935583154692147" type="trapTime">
                                    <param id="0" name="Text">&quot;&quot;&amp;fireball.timeToActivate</param>
                                </action>
                                <action id="0" name="Call function" sid="802696880934236" type="Function">
                                    <param id="0" name="Name">&quot;activateFireball&quot;</param>
                                    <param id="1" name="Parameter {n}">fireball.UID{###}trapTime.UID</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="786057980663266">
            <conditions>
                <condition behavior="Platform" id="9" name="On landed" sid="295584674500316" type="fireball" />
                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="806596928928444" type="fireball">
                    <param id="0" name="Instance variable">activated</param>
                </condition>
            </conditions>
            <actions>
                <action id="-16" name="Set opacity" sid="120080258819527" type="fireball">
                    <param id="0" name="Opacity">50</param>
                </action>
            </actions>
        </event-block>
        <event-group description="" sid="394165891940704" title="Player">
            <sub-events>
                <event-block sid="529400296586522">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="177026960608973" type="System" />
                    </conditions>
                    <actions>
                        <action id="-3" name="Create object" sid="917627492449968" type="System">
                            <param id="0" name="Object to create">player</param>
                            <param id="1" name="Layer">&quot;Player&quot;</param>
                            <param id="2" name="X">initialRespawnPoint.X</param>
                            <param id="3" name="Y">initialRespawnPoint.Y</param>
                        </action>
                        <action id="-10" name="Set value" sid="859799903447940" type="player">
                            <param id="0" name="Instance variable">currentRespawnX</param>
                            <param id="1" name="Value">initialRespawnPoint.X</param>
                        </action>
                        <action id="-10" name="Set value" sid="106656440784775" type="player">
                            <param id="0" name="Instance variable">currentRespawnY</param>
                            <param id="1" name="Value">initialRespawnPoint.Y</param>
                        </action>
                    </actions>
                </event-block>
                <event-group description="" sid="322692152288554" title="AI">
                    <sub-events>
                        <event-block sid="596302915421400">
                            <conditions>
                                <condition id="0" name="On collision with another object" sid="877799453021069" type="player">
                                    <param id="0" name="Object">jumpPoint</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Platform" id="7" name="Simulate control" sid="946358444021119" type="player">
                                    <param id="0" name="Control">2</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="898321240660976">
                            <conditions>
                                <condition id="-1" name="Every tick" sid="906620005206582" type="System" />
                            </conditions>
                            <actions>
                                <action behavior="Platform" id="7" name="Simulate control" sid="723647741375562" type="player">
                                    <param id="0" name="Control">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-block sid="536535656256032">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="441208112567093" type="player">
                            <param id="0" name="Object">Trap</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-12" name="Subtract from" sid="116945436347028" type="player">
                            <param id="0" name="Instance variable">life</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-1" name="Set X" sid="393298970564562" type="player">
                            <param id="0" name="X">player.currentRespawnX</param>
                        </action>
                        <action id="-2" name="Set Y" sid="981123023219090" type="player">
                            <param id="0" name="Y">player.currentRespawnY</param>
                        </action>
                        <action behavior="Flash" id="0" name="Flash" sid="634176547455221" type="player">
                            <param id="0" name="&apos;On&apos; time">0.1</param>
                            <param id="1" name="&apos;Off&apos; time">0.1</param>
                            <param id="2" name="Duration">0.5</param>
                        </action>
                        <action id="-9" name="Destroy" sid="632548831944313" type="Trap" />
                    </actions>
                    <sub-events>
                        <event-block sid="650284905112510">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="215078516972571" type="player">
                                    <param id="0" name="Instance variable">life</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-26" name="Restart layout" sid="503992145004503" type="System" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="495398269426765">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="944583789707792" type="player">
                            <param id="0" name="Object">respawnPoint</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="448419031603265" type="player">
                            <param id="0" name="Instance variable">currentRespawnX</param>
                            <param id="1" name="Value">respawnPoint.X</param>
                        </action>
                        <action id="-10" name="Set value" sid="538908701282827" type="player">
                            <param id="0" name="Instance variable">currentRespawnY</param>
                            <param id="1" name="Value">respawnPoint.Y</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="537327900719755">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="580643530365619" type="player">
                            <param id="0" name="Object">exit</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-26" name="Restart layout" sid="520436232880789" type="System" />
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-block disabled="1" sid="694992510557026">
            <conditions>
                <condition id="-1" name="Every tick" sid="460742974643286" type="System" />
            </conditions>
            <actions>
                <action id="-20" name="Rotate toward angle" sid="423096995654138" type="scythe">
                    <param id="0" name="Degrees">2</param>
                    <param id="1" name="Angle">scythe.endAngle</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
